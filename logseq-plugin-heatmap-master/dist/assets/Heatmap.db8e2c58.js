import{r as D,R as E,d as Lr,b as _r,e as ne,s as oe,c as Et,g as Dr,u as Cr}from"./vendor.415db1c0.js";import{f as j,t as kr,j as P,a as ut,p as xr,b as Mt,u as Ar,c as ae}from"./index.790a3a33.js";function Wt(t,r){return Wt=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},Wt(t,r)}function Pr(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,Wt(t,r)}var Rr=function(r,n){return r===void 0&&(r=[]),n===void 0&&(n=[]),r.length!==n.length||r.some(function(e,o){return!Object.is(e,n[o])})},ie={error:null},Mr=function(t){Pr(r,t);function r(){for(var e,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,e.state=ie,e.resetErrorBoundary=function(){for(var s,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];e.props.onReset==null||(s=e.props).onReset.apply(s,u),e.reset()},e}r.getDerivedStateFromError=function(o){return{error:o}};var n=r.prototype;return n.reset=function(){this.setState(ie)},n.componentDidCatch=function(o,a){var i,s;(i=(s=this.props).onError)==null||i.call(s,o,a)},n.componentDidUpdate=function(o,a){var i=this.state.error,s=this.props.resetKeys;if(i!==null&&a.error!==null&&Rr(o.resetKeys,s)){var l,u;(l=(u=this.props).onResetKeysChange)==null||l.call(u,o.resetKeys,s),this.reset()}},n.render=function(){var o=this.state.error,a=this.props,i=a.fallbackRender,s=a.FallbackComponent,l=a.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(D.exports.isValidElement(l))return l;if(typeof i=="function")return i(u);if(s)return D.exports.createElement(s,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(D.exports.Component);function Wr(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function se(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function Fr(t,r,n){return r&&se(t.prototype,r),n&&se(t,n),t}function jr(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ft(){return Ft=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},Ft.apply(this,arguments)}function Ir(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&It(t,r)}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jt(t)}function It(t,r){return It=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},It(t,r)}function Be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nr(t,r){return r&&(typeof r=="object"||typeof r=="function")?r:Be(t)}function St(t,r){return Br(t)||zr(t,r)||$r()}function Br(t){if(Array.isArray(t))return t}function zr(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i=t[Symbol.iterator](),s;!(e=(s=i.next()).done)&&(n.push(s.value),!(r&&n.length===r));e=!0);}catch(l){o=!0,a=l}finally{try{!e&&i.return!=null&&i.return()}finally{if(o)throw a}}return n}function $r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Hr(t,r){return r={exports:{}},t(r,r.exports),r.exports}var Vr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ur=Vr;function ze(){}function $e(){}$e.resetWarningCache=ze;var Gr=function(){function t(e,o,a,i,s,l){if(l!==Ur){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function r(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:$e,resetWarningCache:ze};return n.PropTypes=n,n},h=Hr(function(t){t.exports=Gr()});function qr(t,r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function Kr(t,r){r===void 0&&(r=qr);var n,e=[],o,a=!1,i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return a&&n===this&&r(u,e)||(o=t.apply(this,u),a=!0,n=this,e=u),o};return i}var le=24*60*60*1e3,B=7,Xr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yr=["","Mon","","Wed","","Fri",""];function st(t,r){var n=new Date(t);return n.setDate(n.getDate()+r),n}function Jr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function Lt(t){return t instanceof Date?t:new Date(t)}function Zr(t){return st(new Date,-t)}function _t(t){for(var r=[],n=0;n<t;n+=1)r.push(n);return r}var x=10,nt=4,z="react-calendar-heatmap-",Xt=function(t){Ir(r,t);function r(){var n,e;Wr(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=Nr(this,(n=jt(r)).call.apply(n,[this].concat(a))),jr(Be(e),"getValueCache",Kr(function(s){return s.values.reduce(function(l,u){var c=Lt(u.date),f=Math.floor((c-e.getStartDateWithEmptyDays())/le);return l[f]={value:u,className:e.props.classForValue(u),title:e.props.titleForValue?e.props.titleForValue(u):null,tooltipDataAttrs:e.getTooltipDataAttrsForValue(u)},l},{})})),e}return Fr(r,[{key:"getDateDifferenceInDays",value:function(){var e=this.props,o=e.startDate,a=e.numDays;if(a)return console.warn("numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead."),a;var i=this.getEndDate()-Lt(o);return Math.ceil(i/le)}},{key:"getSquareSizeWithGutter",value:function(){return x+this.props.gutterSize}},{key:"getMonthLabelSize",value:function(){return this.props.showMonthLabels?this.props.horizontal?x+nt:2*(x+nt):0}},{key:"getWeekdayLabelSize",value:function(){return this.props.showWeekdayLabels?this.props.horizontal?30:x*1.5:0}},{key:"getStartDate",value:function(){return st(this.getEndDate(),-this.getDateDifferenceInDays()+1)}},{key:"getEndDate",value:function(){return Jr(Lt(this.props.endDate))}},{key:"getStartDateWithEmptyDays",value:function(){return st(this.getStartDate(),-this.getNumEmptyDaysAtStart())}},{key:"getNumEmptyDaysAtStart",value:function(){return this.getStartDate().getDay()}},{key:"getNumEmptyDaysAtEnd",value:function(){return B-1-this.getEndDate().getDay()}},{key:"getWeekCount",value:function(){var e=this.getDateDifferenceInDays()+this.getNumEmptyDaysAtStart()+this.getNumEmptyDaysAtEnd();return Math.ceil(e/B)}},{key:"getWeekWidth",value:function(){return B*this.getSquareSizeWithGutter()}},{key:"getWidth",value:function(){return this.getWeekCount()*this.getSquareSizeWithGutter()-(this.props.gutterSize-this.getWeekdayLabelSize())}},{key:"getHeight",value:function(){return this.getWeekWidth()+(this.getMonthLabelSize()-this.props.gutterSize)+this.getWeekdayLabelSize()}},{key:"getValueForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].value:null}},{key:"getClassNameForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].className:this.props.classForValue(null)}},{key:"getTitleForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].title:this.props.titleForValue?this.props.titleForValue(null):null}},{key:"getTooltipDataAttrsForIndex",value:function(e){return this.valueCache[e]?this.valueCache[e].tooltipDataAttrs:this.getTooltipDataAttrsForValue({date:null,count:null})}},{key:"getTooltipDataAttrsForValue",value:function(e){var o=this.props.tooltipDataAttrs;return typeof o=="function"?o(e):o}},{key:"getTransformForWeek",value:function(e){return this.props.horizontal?"translate(".concat(e*this.getSquareSizeWithGutter(),", 0)"):"translate(0, ".concat(e*this.getSquareSizeWithGutter(),")")}},{key:"getTransformForWeekdayLabels",value:function(){return this.props.horizontal?"translate(".concat(x,", ").concat(this.getMonthLabelSize(),")"):null}},{key:"getTransformForMonthLabels",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", 0)"):"translate(".concat(this.getWeekWidth()+nt,", ").concat(this.getWeekdayLabelSize(),")")}},{key:"getTransformForAllWeeks",value:function(){return this.props.horizontal?"translate(".concat(this.getWeekdayLabelSize(),", ").concat(this.getMonthLabelSize(),")"):"translate(0, ".concat(this.getWeekdayLabelSize(),")")}},{key:"getViewBox",value:function(){return this.props.horizontal?"0 0 ".concat(this.getWidth()," ").concat(this.getHeight()):"0 0 ".concat(this.getHeight()," ").concat(this.getWidth())}},{key:"getSquareCoordinates",value:function(e){return this.props.horizontal?[0,e*this.getSquareSizeWithGutter()]:[e*this.getSquareSizeWithGutter(),0]}},{key:"getWeekdayLabelCoordinates",value:function(e){return this.props.horizontal?[0,(e+1)*x+e*this.props.gutterSize]:[e*x+e*this.props.gutterSize,x]}},{key:"getMonthLabelCoordinates",value:function(e){if(this.props.horizontal)return[e*this.getSquareSizeWithGutter(),this.getMonthLabelSize()-nt];var o=-2;return[0,(e+1)*this.getSquareSizeWithGutter()+o]}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"handleMouseOver",value:function(e,o){this.props.onMouseOver&&this.props.onMouseOver(e,o)}},{key:"handleMouseLeave",value:function(e,o){this.props.onMouseLeave&&this.props.onMouseLeave(e,o)}},{key:"renderSquare",value:function(e,o){var a=this,i=o<this.getNumEmptyDaysAtStart()||o>=this.getNumEmptyDaysAtStart()+this.getDateDifferenceInDays();if(i&&!this.props.showOutOfRangeDays)return null;var s=this.getSquareCoordinates(e),l=St(s,2),u=l[0],c=l[1],f=this.getValueForIndex(o),p=E.createElement("rect",Ft({key:o,width:x,height:x,x:u,y:c,className:this.getClassNameForIndex(o),onClick:function(){return a.handleClick(f)},onMouseOver:function(g){return a.handleMouseOver(g,f)},onMouseLeave:function(g){return a.handleMouseLeave(g,f)}},this.getTooltipDataAttrsForIndex(o)),E.createElement("title",null,this.getTitleForIndex(o))),m=this.props.transformDayElement;return m?m(p,f,o):p}},{key:"renderWeek",value:function(e){var o=this;return E.createElement("g",{key:e,transform:this.getTransformForWeek(e),className:"".concat(z,"week")},_t(B).map(function(a){return o.renderSquare(a,e*B+a)}))}},{key:"renderAllWeeks",value:function(){var e=this;return _t(this.getWeekCount()).map(function(o){return e.renderWeek(o)})}},{key:"renderMonthLabels",value:function(){var e=this;if(!this.props.showMonthLabels)return null;var o=_t(this.getWeekCount()-1);return o.map(function(a){var i=st(e.getStartDateWithEmptyDays(),(a+1)*B),s=e.getMonthLabelCoordinates(a),l=St(s,2),u=l[0],c=l[1];return i.getDate()>=1&&i.getDate()<=B?E.createElement("text",{key:a,x:u,y:c,className:"".concat(z,"month-label")},e.props.monthLabels[i.getMonth()]):null})}},{key:"renderWeekdayLabels",value:function(){var e=this;return this.props.showWeekdayLabels?this.props.weekdayLabels.map(function(o,a){var i=e.getWeekdayLabelCoordinates(a),s=St(i,2),l=s[0],u=s[1],c="".concat(e.props.horizontal?"":"".concat(z,"small-text")," ").concat(z,"weekday-label");return a&1?E.createElement("text",{key:"".concat(l).concat(u),x:l,y:u,className:c},o):null}):null}},{key:"render",value:function(){return this.valueCache=this.getValueCache(this.props),E.createElement("svg",{className:"react-calendar-heatmap",viewBox:this.getViewBox()},E.createElement("g",{transform:this.getTransformForMonthLabels(),className:"".concat(z,"month-labels")},this.renderMonthLabels()),E.createElement("g",{transform:this.getTransformForAllWeeks(),className:"".concat(z,"all-weeks")},this.renderAllWeeks()),E.createElement("g",{transform:this.getTransformForWeekdayLabels(),className:"".concat(z,"weekday-labels")},this.renderWeekdayLabels()))}}]),r}(E.Component);Xt.propTypes={values:h.arrayOf(h.shape({date:h.oneOfType([h.string,h.number,h.instanceOf(Date)]).isRequired}).isRequired).isRequired,numDays:h.number,startDate:h.oneOfType([h.string,h.number,h.instanceOf(Date)]),endDate:h.oneOfType([h.string,h.number,h.instanceOf(Date)]),gutterSize:h.number,horizontal:h.bool,showMonthLabels:h.bool,showWeekdayLabels:h.bool,showOutOfRangeDays:h.bool,tooltipDataAttrs:h.oneOfType([h.object,h.func]),titleForValue:h.func,classForValue:h.func,monthLabels:h.arrayOf(h.string),weekdayLabels:h.arrayOf(h.string),onClick:h.func,onMouseOver:h.func,onMouseLeave:h.func,transformDayElement:h.func};Xt.defaultProps={numDays:null,startDate:Zr(200),endDate:new Date,gutterSize:1,horizontal:!0,showMonthLabels:!0,showWeekdayLabels:!1,showOutOfRangeDays:!1,tooltipDataAttrs:null,titleForValue:null,classForValue:function(r){return r?"color-filled":"color-empty"},monthLabels:Xr,weekdayLabels:Yr,onClick:null,onMouseOver:null,onMouseLeave:null,transformDayElement:null};var He={exports:{}},Qr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tn=Qr,en=tn;function Ve(){}function Ue(){}Ue.resetWarningCache=Ve;var rn=function(){function t(e,o,a,i,s,l){if(l!==en){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function r(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Ue,resetWarningCache:Ve};return n.PropTypes=n,n};He.exports=rn();var d=He.exports,ue=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),nn=new Uint8Array(16);function on(){if(!ue)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(nn)}var Ge=[];for(var ot=0;ot<256;++ot)Ge[ot]=(ot+256).toString(16).substr(1);function an(t,r){var n=r||0,e=Ge;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}function sn(t,r,n){var e=r&&n||0;typeof t=="string"&&(r=t==="binary"?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||on)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,r)for(var a=0;a<16;++a)r[e+a]=o[a];return r||an(o)}function ln(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ce(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function fe(t,r,n){return r&&ce(t.prototype,r),n&&ce(t,n),t}function q(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ct(){return ct=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},ct.apply(this,arguments)}function pe(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,e)}return n}function qe(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pe(Object(n),!0).forEach(function(e){q(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function un(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&Bt(t,r)}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nt(t)}function Bt(t,r){return Bt=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},Bt(t,r)}function cn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t,r){return r&&(typeof r=="object"||typeof r=="function")?r:cn(t)}var C={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},Dt=function(r,n){var e;typeof window.CustomEvent=="function"?e=new window.CustomEvent(r,{detail:n}):(e=document.createEvent("Event"),e.initEvent(r,!1,!0,n)),window.dispatchEvent(e)};function pn(t){t.hide=function(r){Dt(C.GLOBAL.HIDE,{target:r})},t.rebuild=function(){Dt(C.GLOBAL.REBUILD)},t.show=function(r){Dt(C.GLOBAL.SHOW,{target:r})},t.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},t.prototype.globalShow=function(r){if(this.mount){var n=r&&r.detail&&r.detail.target&&!0||!1;this.showTooltip({currentTarget:n&&r.detail.target},!0)}},t.prototype.globalHide=function(r){if(this.mount){var n=r&&r.detail&&r.detail.target&&!0||!1;this.hideTooltip({currentTarget:n&&r.detail.target},n)}}}function dn(t){t.prototype.bindWindowEvents=function(r){window.removeEventListener(C.GLOBAL.HIDE,this.globalHide),window.addEventListener(C.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(C.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(C.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(C.GLOBAL.SHOW,this.globalShow),window.addEventListener(C.GLOBAL.SHOW,this.globalShow,!1),r&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},t.prototype.unbindWindowEvents=function(){window.removeEventListener(C.GLOBAL.HIDE,this.globalHide),window.removeEventListener(C.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(C.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},t.prototype.onWindowResize=function(){!this.mount||this.hideTooltip()}}var Ke=function(r,n){var e=this.state.show,o=this.props.id,a=this.isCapture(n.currentTarget),i=n.currentTarget.getAttribute("currentItem");a||n.stopPropagation(),e&&i==="true"?r||this.hideTooltip(n):(n.currentTarget.setAttribute("currentItem","true"),hn(n.currentTarget,this.getTargetArray(o)),this.showTooltip(n))},hn=function(r,n){for(var e=0;e<n.length;e++)r!==n[e]?n[e].setAttribute("currentItem","false"):n[e].setAttribute("currentItem","true")},Ct={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(r,n,e){if(this.id in r){var o=r[this.id];o[n]=e}else Object.defineProperty(r,this.id,{configurable:!0,value:q({},n,e)})},get:function(r,n){var e=r[this.id];if(e!==void 0)return e[n]}};function vn(t){t.prototype.isCustomEvent=function(r){var n=this.state.event;return n||!!r.getAttribute("data-event")},t.prototype.customBindListener=function(r){var n=this,e=this.state,o=e.event,a=e.eventOff,i=r.getAttribute("data-event")||o,s=r.getAttribute("data-event-off")||a;i.split(" ").forEach(function(l){r.removeEventListener(l,Ct.get(r,l));var u=Ke.bind(n,s);Ct.set(r,l,u),r.addEventListener(l,u,!1)}),s&&s.split(" ").forEach(function(l){r.removeEventListener(l,n.hideTooltip),r.addEventListener(l,n.hideTooltip,!1)})},t.prototype.customUnbindListener=function(r){var n=this.state,e=n.event,o=n.eventOff,a=e||r.getAttribute("data-event"),i=o||r.getAttribute("data-event-off");r.removeEventListener(a,Ct.get(r,e)),i&&r.removeEventListener(i,this.hideTooltip)}}function gn(t){t.prototype.isCapture=function(r){return r&&r.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function yn(t){t.prototype.getEffect=function(r){var n=r.getAttribute("data-effect");return n||this.props.effect||"float"}}var mn=function(r){var n={};for(var e in r)typeof r[e]=="function"?n[e]=r[e].bind(r):n[e]=r[e];return n},U=function(r,n,e){var o=n.respectEffect,a=o===void 0?!1:o,i=n.customEvent,s=i===void 0?!1:i,l=this.props.id,u=e.target.getAttribute("data-tip")||null,c=e.target.getAttribute("data-for")||null,f=e.target;if(!(this.isCustomEvent(f)&&!s)){var p=l==null&&c==null||c===l;if(u!=null&&(!a||this.getEffect(f)==="float")&&p){var m=mn(e);m.currentTarget=f,r(m)}}},de=function(r,n){var e={};return r.forEach(function(o){var a=o.getAttribute(n);a&&a.split(" ").forEach(function(i){return e[i]=!0})}),e},he=function(){return document.getElementsByTagName("body")[0]};function bn(t){t.prototype.isBodyMode=function(){return!!this.props.bodyMode},t.prototype.bindBodyListener=function(r){var n=this,e=this.state,o=e.event,a=e.eventOff,i=e.possibleCustomEvents,s=e.possibleCustomEventsOff,l=he(),u=de(r,"data-event"),c=de(r,"data-event-off");o!=null&&(u[o]=!0),a!=null&&(c[a]=!0),i.split(" ").forEach(function(g){return u[g]=!0}),s.split(" ").forEach(function(g){return c[g]=!0}),this.unbindBodyListener(l);var f=this.bodyModeListeners={};o==null&&(f.mouseover=U.bind(this,this.showTooltip,{}),f.mousemove=U.bind(this,this.updateTooltip,{respectEffect:!0}),f.mouseout=U.bind(this,this.hideTooltip,{}));for(var p in u)f[p]=U.bind(this,function(g){var w=g.currentTarget.getAttribute("data-event-off")||a;Ke.call(n,w,g)},{customEvent:!0});for(var m in c)f[m]=U.bind(this,this.hideTooltip,{customEvent:!0});for(var v in f)l.addEventListener(v,f[v])},t.prototype.unbindBodyListener=function(r){r=r||he();var n=this.bodyModeListeners;for(var e in n)r.removeEventListener(e,n[e])}}var wn=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function Tn(t){t.prototype.bindRemovalTracker=function(){var r=this,n=wn();if(n!=null){var e=new n(function(o){for(var a=0;a<o.length;a++)for(var i=o[a],s=0;s<i.removedNodes.length;s++){var l=i.removedNodes[s];if(l===r.state.currentTarget){r.hideTooltip();return}}});e.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=e}},t.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function ve(t,r,n,e,o,a,i){for(var s=zt(n),l=s.width,u=s.height,c=zt(r),f=c.width,p=c.height,m=On(t,r,a),v=m.mouseX,g=m.mouseY,w=En(a,f,p,l,u),L=Sn(i),_=L.extraOffsetX,y=L.extraOffsetY,W=window.innerWidth,b=window.innerHeight,V=Ln(n),et=V.parentTop,gt=V.parentLeft,rt=function(T){var N=w[T].l;return v+N+_},yt=function(T){var N=w[T].r;return v+N+_},te=function(T){var N=w[T].t;return g+N+y},mr=function(T){var N=w[T].b;return g+N+y},br=function(T){return rt(T)<0},wr=function(T){return yt(T)>W},Tr=function(T){return te(T)<0},Or=function(T){return mr(T)>b},mt=function(T){return br(T)||wr(T)||Tr(T)||Or(T)},ee=function(T){return!mt(T)},Er=["top","bottom","left","right"],bt=[],wt=0;wt<4;wt++){var re=Er[wt];ee(re)&&bt.push(re)}var Tt=!1,Ot,Sr=o!==e;return ee(o)&&Sr?(Tt=!0,Ot=o):bt.length>0&&mt(o)&&mt(e)&&(Tt=!0,Ot=bt[0]),Tt?{isNewState:!0,newState:{place:Ot}}:{isNewState:!1,position:{left:parseInt(rt(e)-gt,10),top:parseInt(te(e)-et,10)}}}var zt=function(r){var n=r.getBoundingClientRect(),e=n.height,o=n.width;return{height:parseInt(e,10),width:parseInt(o,10)}},On=function(r,n,e){var o=n.getBoundingClientRect(),a=o.top,i=o.left,s=zt(n),l=s.width,u=s.height;return e==="float"?{mouseX:r.clientX,mouseY:r.clientY}:{mouseX:i+l/2,mouseY:a+u/2}},En=function(r,n,e,o,a){var i,s,l,u,c=3,f=2,p=12;return r==="float"?(i={l:-(o/2),r:o/2,t:-(a+c+f),b:-c},l={l:-(o/2),r:o/2,t:c+p,b:a+c+f+p},u={l:-(o+c+f),r:-c,t:-(a/2),b:a/2},s={l:c,r:o+c+f,t:-(a/2),b:a/2}):r==="solid"&&(i={l:-(o/2),r:o/2,t:-(e/2+a+f),b:-(e/2)},l={l:-(o/2),r:o/2,t:e/2,b:e/2+a+f},u={l:-(o+n/2+f),r:-(n/2),t:-(a/2),b:a/2},s={l:n/2,r:o+n/2+f,t:-(a/2),b:a/2}),{top:i,bottom:l,left:u,right:s}},Sn=function(r){var n=0,e=0;Object.prototype.toString.apply(r)==="[object String]"&&(r=JSON.parse(r.toString().replace(/'/g,'"')));for(var o in r)o==="top"?e-=parseInt(r[o],10):o==="bottom"?e+=parseInt(r[o],10):o==="left"?n-=parseInt(r[o],10):o==="right"&&(n+=parseInt(r[o],10));return{extraOffsetX:n,extraOffsetY:e}},Ln=function(r){for(var n=r;n;){var e=window.getComputedStyle(n);if(e.getPropertyValue("transform")!=="none"||e.getPropertyValue("will-change")==="transform")break;n=n.parentElement}var o=n&&n.getBoundingClientRect().top||0,a=n&&n.getBoundingClientRect().left||0;return{parentTop:o,parentLeft:a}};function ge(t,r,n,e){if(r)return r;if(n!=null)return n;if(n===null)return null;var o=/<br\s*\/?>/;return!e||e==="false"||!o.test(t)?t:t.split(o).map(function(a,i){return E.createElement("span",{key:i,className:"multi-line"},a)})}function ye(t){var r={};return Object.keys(t).filter(function(n){return/(^aria-\w+$|^role$)/.test(n)}).forEach(function(n){r[n]=t[n]}),r}function kt(t){var r=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(r).fill().map(function(n){return t[n]})}function _n(){return"t"+sn()}var Dn=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  padding: 8px 21px;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  bottom: -8px;
  left: 50%;
  margin-left: -10px;
}
.__react_component_tooltip.place-bottom::before {
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  top: -8px;
  left: 50%;
  margin-left: -10px;
}
.__react_component_tooltip.place-left::before {
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
  right: -8px;
  top: 50%;
  margin-top: -5px;
}
.__react_component_tooltip.place-right::before {
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
  left: -8px;
  top: 50%;
  margin-top: -5px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,me={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function Cn(t){return me[t]?qe({},me[t]):void 0}function kn(t,r,n,e){return xn(t,An(r,n,e))}function xn(t,r){var n=r.text,e=r.background,o=r.border,a=r.arrow;return`
  	.`.concat(t,` {
	    color: `).concat(n,`;
	    background: `).concat(e,`;
	    border: 1px solid `).concat(o,`;
  	}

  	.`).concat(t,`.place-top {
        margin-top: -10px;
    }
    .`).concat(t,`.place-top::before {
        border-top: 8px solid `).concat(o,`;
    }
    .`).concat(t,`.place-top::after {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        bottom: -6px;
        left: 50%;
        margin-left: -8px;
        border-top-color: `).concat(a,`;
        border-top-style: solid;
        border-top-width: 6px;
    }

    .`).concat(t,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(t,`.place-bottom::before {
        border-bottom: 8px solid `).concat(o,`;
    }
    .`).concat(t,`.place-bottom::after {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        top: -6px;
        left: 50%;
        margin-left: -8px;
        border-bottom-color: `).concat(a,`;
        border-bottom-style: solid;
        border-bottom-width: 6px;
    }

    .`).concat(t,`.place-left {
        margin-left: -10px;
    }
    .`).concat(t,`.place-left::before {
        border-left: 8px solid `).concat(o,`;
    }
    .`).concat(t,`.place-left::after {
        border-top: 5px solid transparent;
        border-bottom: 5px solid transparent;
        right: -6px;
        top: 50%;
        margin-top: -4px;
        border-left-color: `).concat(a,`;
        border-left-style: solid;
        border-left-width: 6px;
    }

    .`).concat(t,`.place-right {
        margin-left: 10px;
    }
    .`).concat(t,`.place-right::before {
        border-right: 8px solid `).concat(o,`;
    }
    .`).concat(t,`.place-right::after {
        border-top: 5px solid transparent;
        border-bottom: 5px solid transparent;
        left: -6px;
        top: 50%;
        margin-top: -4px;
        border-right-color: `).concat(a,`;
        border-right-style: solid;
        border-right-width: 6px;
    }
  `)}function An(t,r,n){var e=t.text,o=t.background,a=t.border,i=t.arrow?t.arrow:t.background,s=Cn(r);return e&&(s.text=e),o&&(s.background=o),n&&(a?s.border=a:s.border=r==="light"?"black":"white"),i&&(s.arrow=i),s}var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t,r){return r={exports:{}},t(r,r.exports),r.exports}var at=function(t){return t&&t.Math==Math&&t},O=at(typeof globalThis=="object"&&globalThis)||at(typeof window=="object"&&window)||at(typeof self=="object"&&self)||at(typeof be=="object"&&be)||function(){return this}()||Function("return this")(),Z=function(t){try{return!!t()}catch{return!0}},Q=!Z(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ye={}.propertyIsEnumerable,Je=Object.getOwnPropertyDescriptor,Pn=Je&&!Ye.call({1:2},1),Rn=Pn?function(r){var n=Je(this,r);return!!n&&n.enumerable}:Ye,Mn={f:Rn},Ze=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}},Wn={}.toString,Qe=function(t){return Wn.call(t).slice(8,-1)},Fn="".split,tr=Z(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return Qe(t)=="String"?Fn.call(t,""):Object(t)}:Object,er=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t},Yt=function(t){return tr(er(t))},M=function(t){return typeof t=="object"?t!==null:typeof t=="function"},rr=function(t,r){if(!M(t))return t;var n,e;if(r&&typeof(n=t.toString)=="function"&&!M(e=n.call(t))||typeof(n=t.valueOf)=="function"&&!M(e=n.call(t))||!r&&typeof(n=t.toString)=="function"&&!M(e=n.call(t)))return e;throw TypeError("Can't convert object to primitive value")},nr=function(t){return Object(er(t))},jn={}.hasOwnProperty,k=function(r,n){return jn.call(nr(r),n)},$t=O.document,In=M($t)&&M($t.createElement),or=function(t){return In?$t.createElement(t):{}},ar=!Q&&!Z(function(){return Object.defineProperty(or("div"),"a",{get:function(){return 7}}).a!=7}),we=Object.getOwnPropertyDescriptor,Nn=Q?we:function(r,n){if(r=Yt(r),n=rr(n,!0),ar)try{return we(r,n)}catch{}if(k(r,n))return Ze(!Mn.f.call(r,n),r[n])},ir={f:Nn},X=function(t){if(!M(t))throw TypeError(String(t)+" is not an object");return t},Te=Object.defineProperty,Bn=Q?Te:function(r,n,e){if(X(r),n=rr(n,!0),X(e),ar)try{return Te(r,n,e)}catch{}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(r[n]=e.value),r},vt={f:Bn},Y=Q?function(t,r,n){return vt.f(t,r,Ze(1,n))}:function(t,r,n){return t[r]=n,t},Jt=function(t,r){try{Y(O,t,r)}catch{O[t]=r}return r},Oe="__core-js_shared__",zn=O[Oe]||Jt(Oe,{}),I=zn,$n=Function.toString;typeof I.inspectSource!="function"&&(I.inspectSource=function(t){return $n.call(t)});var sr=I.inspectSource,Ee=O.WeakMap,Hn=typeof Ee=="function"&&/native code/.test(sr(Ee)),lr=Xe(function(t){(t.exports=function(r,n){return I[r]||(I[r]=n!==void 0?n:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),Vn=0,Un=Math.random(),ur=function(t){return"Symbol("+String(t===void 0?"":t)+")_"+(++Vn+Un).toString(36)},Se=lr("keys"),cr=function(t){return Se[t]||(Se[t]=ur(t))},Zt={},Le="Object already initialized",Gn=O.WeakMap,ft,J,pt,qn=function(t){return pt(t)?J(t):ft(t,{})},Kn=function(t){return function(r){var n;if(!M(r)||(n=J(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(Hn||I.state){var $=I.state||(I.state=new Gn),Xn=$.get,_e=$.has,Yn=$.set;ft=function(t,r){if(_e.call($,t))throw new TypeError(Le);return r.facade=t,Yn.call($,t,r),r},J=function(t){return Xn.call($,t)||{}},pt=function(t){return _e.call($,t)}}else{var H=cr("state");Zt[H]=!0,ft=function(t,r){if(k(t,H))throw new TypeError(Le);return r.facade=t,Y(t,H,r),r},J=function(t){return k(t,H)?t[H]:{}},pt=function(t){return k(t,H)}}var De={set:ft,get:J,has:pt,enforce:qn,getterFor:Kn},Jn=Xe(function(t){var r=De.get,n=De.enforce,e=String(String).split("String");(t.exports=function(o,a,i,s){var l=s?!!s.unsafe:!1,u=s?!!s.enumerable:!1,c=s?!!s.noTargetGet:!1,f;if(typeof i=="function"&&(typeof a=="string"&&!k(i,"name")&&Y(i,"name",a),f=n(i),f.source||(f.source=e.join(typeof a=="string"?a:""))),o===O){u?o[a]=i:Jt(a,i);return}else l?!c&&o[a]&&(u=!0):delete o[a];u?o[a]=i:Y(o,a,i)})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||sr(this)})}),xt=O,Ce=function(t){return typeof t=="function"?t:void 0},Qt=function(t,r){return arguments.length<2?Ce(xt[t])||Ce(O[t]):xt[t]&&xt[t][r]||O[t]&&O[t][r]},Zn=Math.ceil,Qn=Math.floor,fr=function(t){return isNaN(t=+t)?0:(t>0?Qn:Zn)(t)},to=Math.min,pr=function(t){return t>0?to(fr(t),9007199254740991):0},eo=Math.max,ro=Math.min,no=function(t,r){var n=fr(t);return n<0?eo(n+r,0):ro(n,r)},ke=function(t){return function(r,n,e){var o=Yt(r),a=pr(o.length),i=no(e,a),s;if(t&&n!=n){for(;a>i;)if(s=o[i++],s!=s)return!0}else for(;a>i;i++)if((t||i in o)&&o[i]===n)return t||i||0;return!t&&-1}},oo={includes:ke(!0),indexOf:ke(!1)},ao=oo.indexOf,dr=function(t,r){var n=Yt(t),e=0,o=[],a;for(a in n)!k(Zt,a)&&k(n,a)&&o.push(a);for(;r.length>e;)k(n,a=r[e++])&&(~ao(o,a)||o.push(a));return o},dt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],io=dt.concat("length","prototype"),so=Object.getOwnPropertyNames||function(r){return dr(r,io)},lo={f:so},uo=Object.getOwnPropertySymbols,co={f:uo},fo=Qt("Reflect","ownKeys")||function(r){var n=lo.f(X(r)),e=co.f;return e?n.concat(e(r)):n},po=function(t,r){for(var n=fo(r),e=vt.f,o=ir.f,a=0;a<n.length;a++){var i=n[a];k(t,i)||e(t,i,o(r,i))}},ho=/#|\.prototype\./,tt=function(t,r){var n=go[vo(t)];return n==mo?!0:n==yo?!1:typeof r=="function"?Z(r):!!r},vo=tt.normalize=function(t){return String(t).replace(ho,".").toLowerCase()},go=tt.data={},yo=tt.NATIVE="N",mo=tt.POLYFILL="P",bo=tt,wo=ir.f,To=function(t,r){var n=t.target,e=t.global,o=t.stat,a,i,s,l,u,c;if(e?i=O:o?i=O[n]||Jt(n,{}):i=(O[n]||{}).prototype,i)for(s in r){if(u=r[s],t.noTargetGet?(c=wo(i,s),l=c&&c.value):l=i[s],a=bo(e?s:n+(o?".":"#")+s,t.forced),!a&&l!==void 0){if(typeof u==typeof l)continue;po(u,l)}(t.sham||l&&l.sham)&&Y(u,"sham",!0),Jn(i,s,u,t)}},Oo=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t},Eo=function(t,r,n){if(Oo(t),r===void 0)return t;switch(n){case 0:return function(){return t.call(r)};case 1:return function(e){return t.call(r,e)};case 2:return function(e,o){return t.call(r,e,o)};case 3:return function(e,o,a){return t.call(r,e,o,a)}}return function(){return t.apply(r,arguments)}},xe=Array.isArray||function(r){return Qe(r)=="Array"},At=Qt("navigator","userAgent")||"",Ae=O.process,Pe=Ae&&Ae.versions,Re=Pe&&Pe.v8,A,ht;Re?(A=Re.split("."),ht=A[0]<4?1:A[0]+A[1]):At&&(A=At.match(/Edge\/(\d+)/),(!A||A[1]>=74)&&(A=At.match(/Chrome\/(\d+)/),A&&(ht=A[1])));var Me=ht&&+ht,Ht=!!Object.getOwnPropertySymbols&&!Z(function(){return!String(Symbol())||!Symbol.sham&&Me&&Me<41}),So=Ht&&!Symbol.sham&&typeof Symbol.iterator=="symbol",G=lr("wks"),K=O.Symbol,Lo=So?K:K&&K.withoutSetter||ur,hr=function(t){return(!k(G,t)||!(Ht||typeof G[t]=="string"))&&(Ht&&k(K,t)?G[t]=K[t]:G[t]=Lo("Symbol."+t)),G[t]},_o=hr("species"),Do=function(t,r){var n;return xe(t)&&(n=t.constructor,typeof n=="function"&&(n===Array||xe(n.prototype))?n=void 0:M(n)&&(n=n[_o],n===null&&(n=void 0))),new(n===void 0?Array:n)(r===0?0:r)},We=[].push,F=function(t){var r=t==1,n=t==2,e=t==3,o=t==4,a=t==6,i=t==7,s=t==5||a;return function(l,u,c,f){for(var p=nr(l),m=tr(p),v=Eo(u,c,3),g=pr(m.length),w=0,L=f||Do,_=r?L(l,g):n||i?L(l,0):void 0,y,W;g>w;w++)if((s||w in m)&&(y=m[w],W=v(y,w,p),t))if(r)_[w]=W;else if(W)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:We.call(_,y)}else switch(t){case 4:return!1;case 7:We.call(_,y)}return a?-1:e||o?o:_}},Co={forEach:F(0),map:F(1),filter:F(2),some:F(3),every:F(4),find:F(5),findIndex:F(6),filterOut:F(7)},ko=Object.keys||function(r){return dr(r,dt)},xo=Q?Object.defineProperties:function(r,n){X(r);for(var e=ko(n),o=e.length,a=0,i;o>a;)vt.f(r,i=e[a++],n[i]);return r},Ao=Qt("document","documentElement"),Fe=">",je="<",Vt="prototype",Ut="script",vr=cr("IE_PROTO"),Pt=function(){},gr=function(t){return je+Ut+Fe+t+je+"/"+Ut+Fe},Po=function(t){t.write(gr("")),t.close();var r=t.parentWindow.Object;return t=null,r},Ro=function(){var t=or("iframe"),r="java"+Ut+":",n;return t.style.display="none",Ao.appendChild(t),t.src=String(r),n=t.contentWindow.document,n.open(),n.write(gr("document.F=Object")),n.close(),n.F},Rt,lt=function(){try{Rt=document.domain&&new ActiveXObject("htmlfile")}catch{}lt=Rt?Po(Rt):Ro();for(var t=dt.length;t--;)delete lt[Vt][dt[t]];return lt()};Zt[vr]=!0;var Mo=Object.create||function(r,n){var e;return r!==null?(Pt[Vt]=X(r),e=new Pt,Pt[Vt]=null,e[vr]=r):e=lt(),n===void 0?e:xo(e,n)},Gt=hr("unscopables"),qt=Array.prototype;qt[Gt]==null&&vt.f(qt,Gt,{configurable:!0,value:Mo(null)});var Wo=function(t){qt[Gt][t]=!0},Fo=Co.find,Kt="find",yr=!0;Kt in[]&&Array(1)[Kt](function(){yr=!1});To({target:"Array",proto:!0,forced:yr},{find:function(r){return Fo(this,r,arguments.length>1?arguments[1]:void 0)}});Wo(Kt);var S,it,Ie,jo=pn(S=dn(S=vn(S=gn(S=yn(S=bn(S=Tn(S=(Ie=it=function(t){un(r,t),fe(r,null,[{key:"propTypes",get:function(){return{uuid:d.string,children:d.any,place:d.string,type:d.string,effect:d.string,offset:d.object,multiline:d.bool,border:d.bool,textColor:d.string,backgroundColor:d.string,borderColor:d.string,arrowColor:d.string,insecure:d.bool,class:d.string,className:d.string,id:d.string,html:d.bool,delayHide:d.number,delayUpdate:d.number,delayShow:d.number,event:d.string,eventOff:d.string,isCapture:d.bool,globalEventOff:d.string,getContent:d.any,afterShow:d.func,afterHide:d.func,overridePosition:d.func,disable:d.bool,scrollHide:d.bool,resizeHide:d.bool,wrapper:d.string,bodyMode:d.bool,possibleCustomEvents:d.string,possibleCustomEventsOff:d.string,clickable:d.bool}}}]);function r(n){var e;return ln(this,r),e=fn(this,Nt(r).call(this,n)),e.state={uuid:n.uuid||_n(),place:n.place||"top",desiredPlace:n.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:n.event||null,eventOff:n.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:ye(n),isEmptyTip:!1,disable:!1,possibleCustomEvents:n.possibleCustomEvents||"",possibleCustomEventsOff:n.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},e.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),e.mount=!0,e.delayShowLoop=null,e.delayHideLoop=null,e.delayReshow=null,e.intervalUpdateContent=null,e}return fe(r,[{key:"bind",value:function(e){var o=this;e.forEach(function(a){o[a]=o[a].bind(o)})}},{key:"componentDidMount",value:function(){var e=this.props;e.insecure;var o=e.resizeHide;this.bindListener(),this.bindWindowEvents(o),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(!!e){for(var o=e.parentNode;o.parentNode;)o=o.parentNode;var a;switch(o.constructor.name){case"Document":case"HTMLDocument":case void 0:a=o.head;break;case"ShadowRoot":default:a=o;break}if(!a.querySelector("style[data-react-tooltip]")){var i=document.createElement("style");i.textContent=Dn,i.setAttribute("data-react-tooltip","true"),a.appendChild(i)}}}},{key:"mouseOnToolTip",value:function(){var e=this.state.show;return e&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(e){var o=[],a;if(!e)a="[data-tip]:not([data-for])";else{var i=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');a='[data-tip][data-for="'.concat(i,'"]')}return kt(document.getElementsByTagName("*")).filter(function(s){return s.shadowRoot}).forEach(function(s){o=o.concat(kt(s.shadowRoot.querySelectorAll(a)))}),o.concat(kt(document.querySelectorAll(a)))}},{key:"bindListener",value:function(){var e=this,o=this.props,a=o.id,i=o.globalEventOff,s=o.isCapture,l=this.getTargetArray(a);l.forEach(function(u){u.getAttribute("currentItem")===null&&u.setAttribute("currentItem","false"),e.unbindBasicListener(u),e.isCustomEvent(u)&&e.customUnbindListener(u)}),this.isBodyMode()?this.bindBodyListener(l):l.forEach(function(u){var c=e.isCapture(u),f=e.getEffect(u);if(e.isCustomEvent(u)){e.customBindListener(u);return}u.addEventListener("mouseenter",e.showTooltip,c),u.addEventListener("focus",e.showTooltip,c),f==="float"&&u.addEventListener("mousemove",e.updateTooltip,c),u.addEventListener("mouseleave",e.hideTooltip,c),u.addEventListener("blur",e.hideTooltip,c)}),i&&(window.removeEventListener(i,this.hideTooltip),window.addEventListener(i,this.hideTooltip,s)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,o=this.props,a=o.id,i=o.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var s=this.getTargetArray(a);s.forEach(function(l){e.unbindBasicListener(l),e.isCustomEvent(l)&&e.customUnbindListener(l)})}i&&window.removeEventListener(i,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var o=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,o),e.removeEventListener("mousemove",this.updateTooltip,o),e.removeEventListener("mouseleave",this.hideTooltip,o)}},{key:"getTooltipContent",value:function(){var e=this.props,o=e.getContent,a=e.children,i;return o&&(Array.isArray(o)?i=o[0]&&o[0](this.state.originTooltip):i=o(this.state.originTooltip)),ge(this.state.originTooltip,a,i,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return typeof e=="string"&&e===""||e===null}},{key:"showTooltip",value:function(e,o){if(!!this.tooltipRef){if(o){var a=this.getTargetArray(this.props.id),i=a.some(function(et){return et===e.currentTarget});if(!i)return}var s=this.props,l=s.multiline,u=s.getContent,c=e.currentTarget.getAttribute("data-tip"),f=e.currentTarget.getAttribute("data-multiline")||l||!1,p=e instanceof window.FocusEvent||o,m=!0;e.currentTarget.getAttribute("data-scroll-hide")?m=e.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(m=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.state.uuid);var v=e.currentTarget.getAttribute("data-place")||this.props.place||"top",g=p&&"solid"||this.getEffect(e.currentTarget),w=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},L=ve(e,e.currentTarget,this.tooltipRef,v,v,g,w);L.position&&this.props.overridePosition&&(L.position=this.props.overridePosition(L.position,e,e.currentTarget,this.tooltipRef,v,v,g,w));var _=L.isNewState?L.newState.place:v;this.clearTimer();var y=e.currentTarget,W=this.state.show?y.getAttribute("data-delay-update")||this.props.delayUpdate:0,b=this,V=function(){b.setState({originTooltip:c,isMultiline:f,desiredPlace:v,place:_,type:y.getAttribute("data-type")||b.props.type||"dark",customColors:{text:y.getAttribute("data-text-color")||b.props.textColor||null,background:y.getAttribute("data-background-color")||b.props.backgroundColor||null,border:y.getAttribute("data-border-color")||b.props.borderColor||null,arrow:y.getAttribute("data-arrow-color")||b.props.arrowColor||null},effect:g,offset:w,html:(y.getAttribute("data-html")?y.getAttribute("data-html")==="true":b.props.html)||!1,delayShow:y.getAttribute("data-delay-show")||b.props.delayShow||0,delayHide:y.getAttribute("data-delay-hide")||b.props.delayHide||0,delayUpdate:y.getAttribute("data-delay-update")||b.props.delayUpdate||0,border:(y.getAttribute("data-border")?y.getAttribute("data-border")==="true":b.props.border)||!1,extraClass:y.getAttribute("data-class")||b.props.class||b.props.className||"",disable:(y.getAttribute("data-tip-disable")?y.getAttribute("data-tip-disable")==="true":b.props.disable)||!1,currentTarget:y},function(){m&&b.addScrollListener(b.state.currentTarget),b.updateTooltip(e),u&&Array.isArray(u)&&(b.intervalUpdateContent=setInterval(function(){if(b.mount){var gt=b.props.getContent,rt=ge(c,"",gt[0](),f),yt=b.isEmptyTip(rt);b.setState({isEmptyTip:yt}),b.updatePosition()}},u[1]))})};W?this.delayReshow=setTimeout(V,W):V()}}},{key:"updateTooltip",value:function(e){var o=this,a=this.state,i=a.delayShow,s=a.disable,l=this.props.afterShow,u=this.getTooltipContent(),c=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(u)||s)){var f=this.state.show?0:parseInt(i,10),p=function(){if(Array.isArray(u)&&u.length>0||u){var v=!o.state.show;o.setState({currentEvent:e,currentTarget:c,show:!0},function(){o.updatePosition(),v&&l&&l(e)})}};clearTimeout(this.delayShowLoop),f?this.delayShowLoop=setTimeout(p,f):p()}}},{key:"listenForTooltipExit",value:function(){var e=this.state.show;e&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var e=this.state.show;e&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,o){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},s=this.state.disable,l=i.isScroll,u=l?0:this.state.delayHide,c=this.props.afterHide,f=this.getTooltipContent();if(!!this.mount&&!(this.isEmptyTip(f)||s)){if(o){var p=this.getTargetArray(this.props.id),m=p.some(function(g){return g===e.currentTarget});if(!m||!this.state.show)return}e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var v=function(){var w=a.state.show;if(a.mouseOnToolTip()){a.listenForTooltipExit();return}a.removeListenerForTooltipExit(),a.setState({show:!1},function(){a.removeScrollListener(a.state.currentTarget),w&&c&&c(e)})};this.clearTimer(),u?this.delayHideLoop=setTimeout(v,parseInt(u,10)):v()}}},{key:"hideTooltipOnScroll",value:function(e,o){this.hideTooltip(e,o,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var o=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,o)}},{key:"removeScrollListener",value:function(e){var o=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,o)}},{key:"updatePosition",value:function(){var e=this,o=this.state,a=o.currentEvent,i=o.currentTarget,s=o.place,l=o.desiredPlace,u=o.effect,c=o.offset,f=this.tooltipRef,p=ve(a,i,f,s,l,u,c);if(p.position&&this.props.overridePosition&&(p.position=this.props.overridePosition(p.position,a,i,f,s,l,u,c)),p.isNewState)return this.setState(p.newState,function(){e.updatePosition()});f.style.left=p.position.left+"px",f.style.top=p.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find(function(o){return o!=="border"&&e.state.customColors[o]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,o=this.state,a=o.extraClass,i=o.html,s=o.ariaProps,l=o.disable,u=o.uuid,c=this.getTooltipContent(),f=this.isEmptyTip(c),p=kn(this.state.uuid,this.state.customColors,this.state.type,this.state.border),m="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!l&&!f?" show":"")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),v=this.props.wrapper;r.supportedWrappers.indexOf(v)<0&&(v=r.defaultProps.wrapper);var g=[m,a].filter(Boolean).join(" ");if(i){var w="".concat(c,`
<style aria-hidden="true">`).concat(p,"</style>");return E.createElement(v,ct({className:"".concat(g),id:this.props.id||u,ref:function(_){return e.tooltipRef=_}},s,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:w}}))}else return E.createElement(v,ct({className:"".concat(g),id:this.props.id||u},s,{ref:function(_){return e.tooltipRef=_},"data-id":"tooltip"}),E.createElement("style",{dangerouslySetInnerHTML:{__html:p},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,o){var a=o.ariaProps,i=ye(e),s=Object.keys(i).some(function(l){return i[l]!==a[l]});return s?qe({},o,{ariaProps:i}):null}}]),r}(E.Component),q(it,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),q(it,"supportedWrappers",["div","span"]),q(it,"displayName","ReactTooltip"),Ie))||S)||S)||S)||S)||S)||S)||S;function Io({error:t}){return P("div",{role:"alert",className:"text-red-500 font-semibold",children:P("p",{children:"Heatmap failed to render. Can you re-index your graph and try again?"})})}const No=(t,r)=>{const n=Cr(),e=Ar(),[o,a]=D.exports.useState([]);return D.exports.useLayoutEffect(()=>{(async()=>{const i=new Date(t),s=new Date(r),l=await logseq.DB.datascriptQuery(`
        [:find (pull ?p [*]) (count ?b)
         :where
         [?b :block/page ?p]
         [?p :block/journal? true]
         [?p :block/journal-day ?d]
         [(>= ?d ${ae(i)})]
         [(<= ?d ${ae(s)})]]
     `);n()&&a(l)})()},[t,r]),D.exports.useMemo(()=>{const i=new Date(t),s=new Date(r),l=Object.fromEntries(o.map(([f,p])=>{const m=xr(f["journal-day"]),v={count:p??0,date:j(m),originalName:f["original-name"]};return[v.date,v]})),u=Lr(s,i)+1,c=[];for(let f=0;f<u;f++){const p=j(_r(i,f));l[p]?c.push(l[p]):c.push({date:p,count:0,originalName:Mt(p)})}if(e){const f=c.find(p=>j(e)===p.date);f&&(f.isActive=!0)}return c},[o,e])},Bo=t=>Math.ceil(Math.min(t,30)/10),zo=t=>!t||!t.date?null:{"data-tip":`<strong>${t.count===0?"No":t.count} journal blocks</strong> on <span class="opacity-70">${t.originalName}</span>`},$o=t=>{const[r,n]=D.exports.useState(0);return D.exports.useEffect(()=>{n(e=>e+1)},[t]),r},Ho=({today:t,startDate:r,endDate:n})=>{const e=No(r,n),o=$o(e),a=Math.ceil(e.length/7),i=e.reduce((s,l)=>s+l.count,0);return ut("div",{style:{width:`${a*16}px`},children:[P(Xt,{startDate:r,endDate:n,values:e,showOutOfRangeDays:!0,classForValue:s=>{let l=[];return l.push(`color-github-${Bo(s?.count??0)}`),t===s?.date&&l.push("today"),s?.isActive&&l.push("active"),l.join(" ")},tooltipDataAttrs:zo,onClick:s=>{s&&logseq.App.pushState("page",{name:s.originalName})},gutterSize:4,transformDayElement:s=>D.exports.cloneElement(s,{rx:3})}),ut("div",{className:"text-xs text-right mt-1",children:["Total journal blocks during this period:"," ",P("span",{className:"font-medium",children:new Intl.NumberFormat().format(i)})]}),P(jo,{effect:"solid",html:!0},o)]})},Ne=25,Vo=({range:t,onRangeChange:r,today:n})=>{D.exports.useLayoutEffect(()=>{if(!t){const o=j(ne(new Date(n))),a=j(oe(Et(ne(new Date(n)),-Ne)));r([a,o])}},[t]);const e=o=>{const[,a]=t,i=j(Et(new Date(a),o?-12:12)),s=j(oe(Et(new Date(i),-Ne)));r([s,i])};if(t){const[o,a]=t;return ut("div",{className:"text-xs mb-2",children:["From",P("span",{className:"date-range-tag",onClick:()=>e(!0),children:Mt(o)}),"to",P("span",{className:"date-range-tag",onClick:()=>e(!1),children:Mt(a)})]})}return null};function Uo(){const t=Dr();return D.exports.useMemo(()=>{let r=t.width-10,n=20;if(top?.document){const e=top?.document.querySelector(`.${kr}`)?.getBoundingClientRect();e&&(r=e.right,n=e.bottom)}return{right:r,bottom:n}},[t])}const Ko=D.exports.forwardRef(({},t)=>{const r=j(new Date),[n,e]=D.exports.useState(null),{bottom:o,right:a}=Uo();return P("div",{ref:t,className:"heatmap-root",style:{left:a-300,top:o+20},children:ut(Mr,{FallbackComponent:Io,children:[P(Vo,{range:n,onRangeChange:e,today:r}),n&&P(Ho,{today:r,endDate:n[1],startDate:n[0]})]})})});export{Ko as Heatmap};
